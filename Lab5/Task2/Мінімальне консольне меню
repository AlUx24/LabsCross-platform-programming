package com.example.transport.menu;

import com.example.transport.model.*;
import com.example.transport.service.VehicleService;

import java.util.Scanner;

public class ConsoleMenu {

    private VehicleService service = new VehicleService();
    private Scanner scanner = new Scanner(System.in);

    public void start() {
        while (true) {
            System.out.println("\n1 - Add car");
            System.out.println("2 - Add bike");
            System.out.println("3 - Show all");
            System.out.println("0 - Exit");

            int choice = scanner.nextInt();
            scanner.nextLine();

            switch (choice) {
                case 1 -> addCar();
                case 2 -> addBike();
                case 3 -> service.showAll();
                case 0 -> {
                    return;
                }
                default -> System.out.println("Wrong choice.");
            }
        }
    }

    private void addCar() {
        System.out.print("Brand: ");
        String brand = scanner.nextLine();
        System.out.print("Year: ");
        int year = scanner.nextInt();
        System.out.print("Doors: ");
        int doors = scanner.nextInt();
        scanner.nextLine();

        service.addVehicle(new Car(brand, year, doors));
    }

    private void addBike() {
        System.out.print("Brand: ");
        String brand = scanner.nextLine();
        System.out.print("Year: ");
        int year = scanner.nextInt();
        System.out.print("Has engine (true/false): ");
        boolean hasEngine = scanner.nextBoolean();
        scanner.nextLine();

        service.addVehicle(new Bike(brand, year, hasEngine));
    }
}
